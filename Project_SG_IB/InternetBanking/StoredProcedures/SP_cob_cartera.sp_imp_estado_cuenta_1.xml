<?xml version="1.0" encoding="utf-8"?>
<procedure>
  <database>cob_cartera</database>
  <name>sp_imp_estado_cuenta</name>
  <type>SYBASE</type>
  <version>1</version>
  <parameters>
    <parameter name="@t_show_version" dataType="bit" direction="in" />
    <parameter name="@t_trn" dataType="smallint" direction="in" />
    <parameter name="@i_banco" dataType="varchar" direction="in" />
    <parameter name="@i_operacion" dataType="char" direction="in" />
    <parameter name="@i_formato_fecha" dataType="int" direction="in" />
    <parameter name="@i_siguiente" dataType="int" direction="in" />
    <parameter name="@t_orig_db_name" dataType="varchar" direction="in" />
    <parameter name="@t_orig_sp_name" dataType="varchar" direction="in" />
    <parameter name="@t_orig_trn" dataType="int" direction="in" />
  </parameters>
  <queries>
    <query>
      <columns>
        <column name="{1}" />
        <column name="{2}" />
        <column name="{3}" />
        <column name="{4}" />
        <column name="{5}" />
        <column name="{6}" />
        <column name="{7}" />
        <column name="{8}" />
        <column name="{9}" />
        <column name="{10}" />
        <column name="{11}" />
        <column name="{12}" />
        <column name="{13}" />
        <column name="{14}" />
        <column name="{15}" />
        <column name="{16}" />
        <column name="{17}" />
        <column name="{18}" />
        <column name="{19}" />
        <column name="{20}" />
        <column name="{21}" />
        <column name="{22}" />
        <column name="{23}" />
        <column name="{24}" />
        <column name="{25}" />
        <column name="{26}" />
        <column name="{27}" />
        <column name="{28}" />
      </columns>
      <queryText>SELECT w_nombre, w_moneda_desc, w_sal_capital, w_sal_capital_ven, w_sal_interes, w_sal_interes_ven, w_sal_interes_mora, ctx.convertString(w_fecha_hasta_int ,i_formato_fecha), w_subsidio, w_porcentaje_subsidio, w_tasa, w_cantidad_pagos, w_monto_pagos, w_tipo_amortizacion, w_cadena_cuota, w_estado, w_sector, w_toperacion, w_fecha_vcto, w_cliente, w_codeudor, w_nombrec, w_nro_cre, w_nro_pag, w_nro_ven, w_moneda, w_tasa_minima, w_reajustable</queryText>
    </query>
    <query>
      <columns>
        <column name="Id Operacion" />
        <column name="Fecha" />
        <column name="Tipo Movimiento" />
        <column name="Interes Normal" />
        <column name="Interes Moratorio" />
        <column name="Capital" />
        <column name="Otros" />
        <column name="Monto" />
        <column name="Saldo Capital" />
        <column name="Periodo" />
        <column name="Feci" />
        <column name="Seguro" />
        <column name="Descripcion" />
        <column name="Tasa Anterior" />
        <column name="Estado Anterior" />
        <column name="Estado Actual" />
        <column name="Tasa Actual" />
        <column name="Secuencial" />
        <column name="Tipo Pago" />
      </columns>
      <queryText>SELECT  "Id Operacion" = ?,"Fecha" = CONVERT (VARCHAR (10),ec_fecha_ref ,?),"Tipo Movimiento" = (ec_tran + " " + CASE tr_estado WHEN "RV" THEN "R" ELSE ec_estado END),"Interes Normal" = ec_interes,"Interes Moratorio" = ec_mora,"Capital" = ec_capital,"Otros" = ec_otros,"Monto" = ec_monto_pag,"Saldo Capital" = ec_saldo_cap,"Periodo" = ec_periodo_pag,"Feci" = ec_feci,"Seguro" = ec_seguro,"Descripcion" = ec_descrip,"Tasa Anterior" = ec_porcentaje_ant,"Estado Anterior" = (SELECT  es_descripcion </queryText>
    </query>
  </queries>
</procedure>