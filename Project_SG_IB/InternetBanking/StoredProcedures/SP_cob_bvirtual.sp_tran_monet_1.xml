<?xml version="1.0" encoding="utf-8"?>
<procedure>
  <database>cob_bvirtual</database>
  <name>sp_tran_monet</name>
  <type>SQLSERVER</type>
  <version>1</version>
  <parameters>
    <parameter name="@t_show_version" dataType="bit" direction="in" />
    <parameter name="@s_ssn_branch" dataType="int" direction="in" />
    <parameter name="@s_srv" dataType="varchar" direction="in" />
    <parameter name="@s_lsrv" dataType="varchar" direction="in" />
    <parameter name="@s_user" dataType="varchar" direction="in" />
    <parameter name="@s_term" dataType="varchar" direction="in" />
    <parameter name="@s_date" dataType="datetime" direction="in" />
    <parameter name="@s_ofi" dataType="smallint" direction="in" />
    <parameter name="@s_rol" dataType="smallint" direction="in" />
    <parameter name="@s_error" dataType="int" direction="in" />
    <parameter name="@s_msg" dataType="varchar" direction="in" />
    <parameter name="@s_org" dataType="char" direction="in" />
    <parameter name="@s_cliente" dataType="int" direction="in" />
    <parameter name="@s_servicio" dataType="tinyint" direction="in" />
    <parameter name="@s_perfil" dataType="smallint" direction="in" />
    <parameter name="@t_ejec" dataType="char" direction="in" />
    <parameter name="@t_corr" dataType="char" direction="in" />
    <parameter name="@t_ssn_corr" dataType="int" direction="in" />
    <parameter name="@t_rty" dataType="char" direction="in" />
    <parameter name="@t_trn" dataType="int" direction="in" />
    <parameter name="@t_filial" dataType="smallint" direction="in" />
    <parameter name="@t_aut" dataType="char" direction="in" />
    <parameter name="@t_tsn_aut" dataType="int" direction="in" />
    <parameter name="@t_online" dataType="char" direction="in" />
    <parameter name="@t_login_aut" dataType="varchar" direction="in" />
    <parameter name="@i_prod" dataType="tinyint" direction="in" />
    <parameter name="@i_mon" dataType="smallint" direction="in" />
    <parameter name="@i_login" dataType="varchar" direction="in" />
    <parameter name="@i_idcierre" dataType="int" direction="in" />
    <parameter name="@i_operacion" dataType="char" direction="in" />
    <parameter name="@i_cod_colector" dataType="int" direction="in" />
    <parameter name="@i_nom_cliente_benef" dataType="varchar" direction="in" />
    <parameter name="@i_tipo_ejec" dataType="char" direction="in" />
    <parameter name="@i_contrato" dataType="varchar" direction="in" />
    <parameter name="@i_cta" dataType="varchar" direction="in" />
    <parameter name="@i_cuenta_dst" dataType="varchar" direction="in" />
    <parameter name="@i_ofi_cta" dataType="smallint" direction="in" />
    <parameter name="@i_prod_des" dataType="tinyint" direction="in" />
    <parameter name="@i_mon_des" dataType="smallint" direction="in" />
    <parameter name="@i_factor" dataType="int" direction="in" />
    <parameter name="@i_val" dataType="money" direction="in" />
    <parameter name="@i_clave" dataType="int" direction="in" />
    <parameter name="@i_ssn_host" dataType="int" direction="in" />
    <parameter name="@i_srv_host" dataType="varchar" direction="in" />
    <parameter name="@i_sld_cont" dataType="money" direction="in" />
    <parameter name="@i_sld_disp" dataType="money" direction="in" />
    <parameter name="@i_concepto" dataType="varchar" direction="in" />
    <parameter name="@i_estado_ejec" dataType="char" direction="in" />
    <parameter name="@i_estado_correccion" dataType="char" direction="in" />
    <parameter name="@i_formato_fecha" dataType="int" direction="in" />
    <parameter name="@i_tipo_consulta" dataType="char" direction="in" />
    <parameter name="@i_fecha_ini" dataType="datetime" direction="in" />
    <parameter name="@i_fecha_fin" dataType="datetime" direction="in" />
    <parameter name="@i_num_registros" dataType="int" direction="in" />
    <parameter name="@i_secuencial" dataType="int" direction="in" />
    <parameter name="@i_opcion" dataType="char" direction="in" />
  </parameters>
  <queries>
    <query>
      <columns>
        <column name="FECHA" />
        <column name="TRANSACCION" />
        <column name="COD TRAN" />
        <column name="REFERENCIA" />
        <column name="D/C" />
        <column name="VALOR" />
        <column name="CONTABLE" />
        <column name="DISPONIBLE" />
        <column name="HORA" />
        <column name="SECUENCIAL" />
      </columns>
      <queryText>SELECT  "FECHA" = CONVERT (CHAR (10),tm_fecha ,?),"TRANSACCION" = tn_descripcion,"COD TRAN" = tm_tipo_tran,"REFERENCIA" = ISNULL (tm_causa, CONVERT (VARCHAR (10),tm_cheque )),"D/C" = tm_signo,"VALOR" = ISNULL (tm_valor, 0) + ISNULL (tm_chq_propios, 0) + ISNULL (tm_chq_locales, 0) + ISNULL (tm_chq_ot_plazas, 0),"CONTABLE" = tm_saldo_contable,"DISPONIBLE" = tm_saldo_disponible,"HORA" = tm_hora </queryText>
    </query>
  </queries>
</procedure>