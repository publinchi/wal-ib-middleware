<?xml version="1.0" encoding="utf-8"?>
<procedure>
  <database>cob_bvirtual</database>
  <name>sp_cons_tercero_bv</name>
  <type>SYBASE</type>
  <version>1</version>
  <parameters>
    <parameter name="@s_user" dataType="varchar" direction="in" />
    <parameter name="@s_date" dataType="datetime" direction="in" />
    <parameter name="@s_srv" dataType="varchar" direction="in" />
    <parameter name="@s_ofi" dataType="smallint" direction="in" />
    <parameter name="@s_term" dataType="varchar" direction="in" />
    <parameter name="@t_trn" dataType="int" direction="in" />
    <parameter name="@i_valor_codigo" dataType="int" direction="in" />
    <parameter name="@i_operacion" dataType="char" direction="in" />
    <parameter name="@i_modo" dataType="tinyint" direction="in" />
    <parameter name="@i_cod_cliente" dataType="int" direction="in" />
    <parameter name="@i_cod_servicio" dataType="tinyint" direction="in" />
    <parameter name="@i_tipo_tercero" dataType="char" direction="in" />
    <parameter name="@o_num_filas" dataType="tinyint" direction="out" />
  </parameters>
  <queries>
    <query>
      <columns>
        <column name="@o_num_filas" />
      </columns>
      <queryText>SELECT o_num_filas</queryText>
    </query>
    <query>
      <columns>
        <column name="CODIGO" />
        <column name="NOMBRE" />
        <column name="DESCRIPCION" />
        <column name="PRODUCTO" />
        <column name="PRODUCTO" />
        <column name="MONEDA" />
        <column name="MONEDA" />
        <column name="CUENTA" />
        <column name="E_MAIL" />
        <column name="ESTADO" />
        <column name="COD BCO" />
        <column name="DISP. LOGINES" />
        <column name="TOPE DIARIO" />
        <column name="AUTORIZADO" />
      </columns>
      <queryText>SELECT  "CODIGO" = te_tercero,"NOMBRE" = te_nombre,"DESCRIPCION" = te_descripcion,"PRODUCTO" = te_producto,"PRODUCTO" = SUBSTRING (a.pd_descripcion, 1, 20),"MONEDA" = te_moneda,"MONEDA" = (SELECT  SUBSTRING (b.valor, 1, 20) FROM cobis..cl_catalogo b   WHERE tabla = ? AND te.te_moneda = codigo     ),"CUENTA" = te_cuenta,"E_MAIL" = te_telefono,"ESTADO" = te_estado,"COD BCO" = te_banco,"DISP. LOGINES" = te_logines,"TOPE DIARIO" = te_tope_diario,"AUTORIZADO" = te_autorizado </queryText>
    </query>
    <query>
      <columns>
        <column name="@o_num_filas" />
      </columns>
      <queryText>SELECT o_num_filas</queryText>
    </query>
    <query>
      <columns>
        <column name="CUENTA" />
        <column name="NOMBRE" />
        <column name="PRODUCTO" />
        <column name="MONEDA" />
      </columns>
      <queryText>SELECT DISTINCT "CUENTA" = ep_cuenta,"NOMBRE" = ep_alias,"PRODUCTO" = ep_producto,"MONEDA" = ep_moneda </queryText>
    </query>
  </queries>
</procedure>